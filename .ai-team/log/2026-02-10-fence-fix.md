# 2026-02-10 — Fence Fix & Sprint 3 Stabilization

**Requested by:** Jeffrey T. Fritz

## Who Worked

- **Rocket** — Sprint 3 bug fixes and village fence adjustments

## What Was Done

1. **Village fence repositioned:** Moved fence perimeter to ground level (`BaseY` instead of `BaseY+1`) and increased gap from buildings to 4 blocks (previously 1–2 blocks).
2. **Sprint 3 service startup race condition fixed:** `HeartbeatService`, `RedstoneDependencyService`, and `ServiceSwitchService` converted from `AddHostedService<>()` to `AddSingleton<>()` — called from `MinecraftWorldWorker` instead of running as independent `BackgroundService` instances. This prevents services from starting before RCON is connected or resources are discovered.
3. **Beacon overlap with structures fixed:** Beacon tower positions corrected to avoid overlapping with row-1 structures.

## Decisions

- RCON-dependent feature services must be registered as singletons called from the main worker loop, not as independent hosted services.
- Village fence must maintain a 4-block clearance from buildings and sit at ground level.

## Key Outcomes

- All changes pushed to `sprint-3` branch.
- Build clean, tests passing.
